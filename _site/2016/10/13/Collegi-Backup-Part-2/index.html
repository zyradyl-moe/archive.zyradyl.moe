<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta charset="UTF-8">

  <!-- Enable responsiveness on mobile devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Collegi Pixelmon - Backup System Part 2 &middot; Bit of A Byte
    
  </title>

  
  <!-- canonical link -->
  <link rel="canonical" href="/2016/10/13/Collegi-Backup-Part-2/">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Dosis">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">

  <!-- Icons -->
  <!-- <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png"> -->
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- Google Analytics -->
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-130197091-1', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>My name is Natalie and I spend most of my time taking apart things I have no business taking apart.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/archive/">Archive</a>
        
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/projects/">Projects</a>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/site/">Site Information</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/tags/">Tags</a>
        
      
    

    <a class="sidebar-nav-item" href="https://github.com/zyradyl/zyradyl.github.io">Currently v0.6.0</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://creativecommons.org/publicdomain/zero/1.0/">
        Ø 2018 - No Rights Reserved.
      </a>
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            
                 <small><a href="http://127.0.0.1">$USER</a>@<a href="/" title="Home">bit-of-a-byte</a>
              ~ $ cat /var/log/collegi-pixelmon-backup-system-part-2.log</small>
              
            </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Collegi Pixelmon - Backup System Part 2</h1>
  <span class="post-date">13 Oct 2016</span>
  <p>What was originally intended to be a one off blog post may become my new source
of material for the coming weeks. After utilizing <a href="https://github.com/borgbackup/borg" title="BorgBackup">BorgBackup</a> and
<a href="http://git-annex.branchable.com/" title="Git-Annex">git-annex</a> to backup what has now grown to almost <a href="https://twitter.com/Zyradyl/status/786205897810780160" title="Zyradyl's Twitter">2.5 Terabytes</a> of
data, I began to wonder what other ways I could put git-annex to use for us here
at <a href="http://collegi.enjin.com" title="Collegi Pixelmon Main Website">Collegi</a>. We already use various <a href="https://gitlab.com/" title="GitLab">GitLab</a> repositories to manage
different facets of the project, and I began to wonder if there wouldn’t be some
way to use git-annex to completely unify those repositories and distribute their
information as needed.</p>

<p>This started as a brief foray into <a href="https://medium.com/@porteneuve/mastering-git-submodules-34c65e940407#.24xm3mdlt" title="Mastering Git Submodules">git submodules</a> which, while allowing me
to consolidate data <strong>locally</strong>, does nothing in helping me to properly
redistribute that data to various locations. The only way that it would be
possible to do such a thing would be to take all the various git repositories
that Collegi utilizes, which currently is sitting at <a href="https://gitlab.com/groups/collegi" title="GitLab: Collegi Group">six total</a>, including
the git-annex metadata repository (which isn’t publicly visible), and merge them
into one master repository through the use of <a href="https://medium.com/@porteneuve/mastering-git-subtrees-943d29a798ec#.r5p4ozyfm" title="Mastering Git Subtrees">git subtrees</a>. This would
allow me to still have multiple repositories for ease of project management, but
all those repositories would be pulled down, daily, to a local “master”
git-annex repository and merged into it.</p>

<p>Once this was done, the use of git annex’s <a href="https://git-annex.branchable.com/git-annex-preferred-content/" title="Git Annex: Preferred Content Manual Page">preferred content</a> system would
allow me to decide what data needed to be sent to which remote. This would let
me back up some information to one remote, and other information to another.
As an added bonus, the use of git subtrees would even allow me to push changes
back upstream, and all of it would be centralized.</p>

<p>In the future, this would allow us to push very specific data to specific team
members, who would then modify the data, which would be pulled back down on the
next git-annex sync, we would see changes needing to be pushed upstream had been
made, unlock those files, then use git subtree to push them back to their
remotes. That’s the theory at least. As far as I am aware, either no one has
done this before, no one who has done this before has lived to tell the tale, or
no one who has done this before has blogged about their experiences in doing so.</p>

<p>That’s where this blog comes in. I’m currently in the process of making a
complete copy of the current root repository, which is still using git
submodules, and from there I can begin experimenting. Whether or not this works
remains to be seen, but it coincides neatly with a rewrite of the
<a href="https://gitlab.com/collegi/collegi-backup-automation" title="GitLab: Collegi Group - Backup Automation">backup script</a> to update it to Google Shell Style Guidelines, which means
I can build the script around the new repository layout, and while doing so I
should be able to head off any unforeseen issues.</p>

<p>It’s very likely that I am going to finish writing 2.0 of the script before
doing any of this crazy shit, but this post helps me to organize my thoughts.
Besides, it just means 3.0 will be that much more exciting when it drops.</p>

<p>Stay tuned for more of my antics and adventures with making this absurd system
take shape, and turn into the omnipresent repository of every single facet of
a Minecraft community.</p>


</div>

<div class="related">
<h2>Related Posts</h2>



  
    
    
    
    <ul class="related-posts">
    
  
    
    
    
    <ul class="related-posts">
    
    <li>
      <h3>
        <a href="/2018/12/09/ThothBackup-Part-3/">
          ThothBackup - Part 3 <!--<span class="label label-default">Git</span>-->  <!--<span class="label label-default">Git-Annex</span>--> 
          <small>
            09 Dec 2018
          </small>
        </a>
      </h3>
    </li>
      
      
    
  
    
    
    
    <ul class="related-posts">
    
    <li>
      <h3>
        <a href="/2018/12/02/ThothBackup-Part-2/">
          ThothBackup - Part 2 <!--<span class="label label-default">Git</span>-->  <!--<span class="label label-default">Git-Annex</span>--> 
          <small>
            02 Dec 2018
          </small>
        </a>
      </h3>
    </li>
      
      
    
  
    
    
    
    <ul class="related-posts">
    
  
    
    
    
    <ul class="related-posts">
    
    <li>
      <h3>
        <a href="/2018/11/28/ThothBackup-Part-1/">
          ThothBackup - Part 1 <!--<span class="label label-default">Git</span>-->  <!--<span class="label label-default">Git-Annex</span>--> 
          <small>
            28 Nov 2018
          </small>
        </a>
      </h3>
    </li>
      
      
        
  </ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='/public/js/script.js'></script>
  </body>
</html>
